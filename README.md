# JP-NLP-Summarization-Dataset

**This Dataset is constructed from 自然言語処理学会 paper**

> Original Latex Corpus: [自然言語処理学会](https://www.anlp.jp/resource/journal_latex/index.html)

## Format of JP-NLP-Summarization

Each line is a **json format item** with

* file_name
* language
* title: japanese title
* etitle: english title
* jabstract
* eabstract
* section_name
* sections:
  * sec_intro
  * sec_method
  * sec_result
  * sec_conclusion
* absctract:
  * abs_intro
  * abs_method
  * abs_result
  * abs_conclusion

## 预处理和后处理

**基于原始TEX文件的字段提取:**

* file_name
* language
* title: japanese title
* etitle: english title
* jabstract
* eabstract
* section_name

**Preprocessing** **: 对section内部的文本进行了一些删除**

* 删除 `\begin{document}`之前的所有内容
* 删除了所有的图片：`\begin{figure} ... \end{figure}`之间的内容
  * 对图片引用进行了替换 `\ref{fig:algorithm}` 替换为図 `[fig:algorithm]`
* 删除了所有的表格：`\begin{table} ... \end{table}` 和 `\begin{tabular} ... \end{tabular}`
  * 对表格的引用进行了替换: 表 `\ref{tab:fail}` 替换为表 `[tab:fail]`
* 对文献引用进行了替换：
  * 统一替换为@xcite
* 对公式进行了替换：
  * 单行公式$xxx$内的内容替换为@xmath0, @xmath1, @xmath2, ...
  * 多行公式

    $$
    (xxx)
    $$

    内的内容替换为@xlmath

**基于pandoc把所有tex文件转换成了txt**

**Postprocessing: 对没有删除干净的特殊符号进行删除**

* 首先删除换行符 \n
* 删除::: 开头的一些文本
  * ::: sent
  * ::: center
  * ::: table*
  * ::: flashleft
  * ::: flashright
  * ::: exe
  * ::: algorithm(ic)
  * ::: indent
  * ::: xlist
  * ::: lingexample
  * ::: figure*
  * ::: ex
  * ::: exB
  * ::: description
  * ::: itembox
  * ::: breakbox
  * ::: df
  * ::: enumerate
  * ::: savenotes
  * ::: dependency
  * ::: algorithm
  * ::: algorithmic
  * ::: 簡体中文
* 删除{.underline}和\underline
* 删除\begin{enumerate} \end{enumerate}
  * 删除\item
* 更换网址为@url

## Format of JP-NLP-Summarization-Incremental

To fit our task: Incremental summarization

We did some sligt modification about abstract part

## 虽然我们采用四段式进行分割，但实际上很多文章的行文风格不适合用四段式来进行划分

intro的part包括了intro和先行研究

method方法主要是本paper的提案

result：如果考察在experiment章节就放在这里

conclusion：如果考察单独是一个章节就放在这里

删除了独立的案例分析和appendix章节

删除了只有标注的paper

例如关联研究往往会带来干扰，我们通常吧相关研究放在intro部分

# TODO

1. 删除每一列里的\n换行符
2. 如果考察单独是一个section那么就放到conclusion，否则下属于experiment的部分就不同
3. 删除双$$的公式
4. 删除\
5. ：：：breakbox
6. 删除**强调
7. 删除空行
8. 删除了没有实验部分的文章和英文文章
9. 更换网站网址@url


# 評価実験

## 概要

本論文では, 注目するラベルとして日本の地名を選んで, 実験を行った.
地名を選択した一つ目の理由は,
地名間には実際に一対多関係が成り立つためである. たとえば,
県名と市名には地理的な包含関係があり, 地名間の関係は一対多関係である.
また, 二つ目の理由は, この関係は電話帳や地図,
ポスタルガイドなどの既存データから 抽出できるため,
機械的に正解判定を行うことができることである. これらの理由から,
注目するラベルを日本の地名, その地名間において推定
する一対多関係を地理的な包含関係とし,
正解関係はポスタルガイドから抽出した .
正解とした地名の一対多関係は二つの地名について,
一方の地名がもう一方の地名を 地理的に包含する関係とした. たとえば,
大阪府は大阪市を地理的に包含するので, 「大阪府,
大阪市」は一対多関係があるとする. このように, 一方の地名が都道府県名,
もう一方の地名がそれに続く市郡名である 場合,
それらの地名には一対多関係があるとし,
この一対多関係を正解関係として一つの 関係を抽出した. 以上のことより,
本論文では, 地名(都道府県市郡名 )をラベル集合@xmath166,
抽出した1239個の一対多関係を正解集合@xmath167とした.

実験では, データ集合に現れる地名を組み合わせてできるすべての組について,
出現 パターンの類似度を測ることによって,
その組が一対多関係であるかを推定する. そして,
組を類似度の降順にソートし, 実験結果とする. 最後に,
上位@xmath168(任意の数)組を評価の対象となる組とし,
その組について正解判定を行い, 再現率で性能を評価する.
次に再現率の定義を示す. $$\begin{aligned}
再現率 &=& \frac{評価対象とした組のうち正解した数}{全正解数}
\end{aligned}$$

また, データ集合が持つ関係の特性を見るため, 多重度についても考察する.

## 人工的に生成したデータ集合を用いた実験

この節では, モデルに従ったデータを用いて, 八つの類似尺度の
振る舞いを観察する. ここで用いたモデルは, 雑音のな いデータモデルと,
雑音のあるデータモデルである.

実験において,
生成するデータ集合の大きさを無限に大きくすることはできない. そこで,
生成するデータ集合の大きさを1000個としたが, その数が全正解数1239よ
りも小さいため, 全く使用されない正解もある. したがって,
どんな手法を用いても欠けている情報を復元することはできないので,
再現率は@xmath169にならないことになる.

各地名の出現パターンは1000次元のベクトルで表され,
各次元に対応するデータにある地名が出現するのであれば1,
そうでなければ0が割り 当てられたその地名についての二値ベクトルである.

この実験における評価方法は,
評価の対象となる組を500組ずつ増やしたときの再 現率をグラフにし,
性能を評価する. また, 評価の対象となった組から,
特徴的ないくつかの組を取り出し,
それらの組に対して各尺度が与えた順位と類似度について考察する.

### 雑音のないデータ集合を用いた実験

この節では, 雑音のないデータ集合に対する類似尺度の振る舞いを 観察する.
雑音のないデータ集合@xmath170は定義\[no-noise\]に沿って, ラベル集
合@xmath171と正解関係を要素とする関係集合@xmath172から作成した.
アルゴリズムを 図\[algo:art_data\]に示す.

このアルゴリズムに沿って作成したデータ集合の要素であるデータはたとえば,
\@xmath173というデータである. これは,
正解である関係集合@xmath174から@xmath175と \@xmath176の二つを取り出し,
その四つのラベル を要素として作成した集合である. 要素数を4とした理由は,
4未満であると問題が簡単すぎるので,
4が意味のある最低の数と考えたためである.
このように作成したデータ@xmath177を1000個持
つデータ集合@xmath178を作成した.
このデータ集合は雑音のないデータ集合である. これを用いて実験を行った.
実験結果を図\[graph:art_data\]に示す.
この四つのグラフはそれぞれ同じ方法で作成した異なるデータ集合に用いて実験を行った結果である.

これらのグラフは, 上位の組の数を横軸, そのときの再現率を縦 軸とする.
また, このデータ集合における再現率は約@xmath179で収束する. これは,
\@xmath180のなかに含まれていない正解があることを示している.
このグラフでは, 上位に位置する組において, 補完類似
度の再現率の高さが目立ち, また補完類似度がもっとも早く収束している.
すべてのグラフにおいて, 補完類似度に続き, 信頼度, 非対称平均相互情報量,
平均相互情報量が高い性能を 示している. 言い換えると,
これらのグラフは雑音のないデータ集合を用いた実験にお いて,
補完類似度がもっとも一対多関係を推定する能力が高く, 次に信頼度, 非対
称平均相互情報量, 平均相互情報量の順に高いことを表している.
この結果はすべてのグラフにおいて同じ結果を得ている. また,
非対称平均相互情報量は平均相互情報量と比べ,
一対多関係を推定する能力が高いことを表しているが,
有意な差を見ることはできなかった. しかし, このことから,
非対称性は一対多関係を推定するために有効な性質の一つと考え られるが,
補完類似度と非対称平均相互情報量の性能差を見ると, 非対称性を持つだけで
は高い性能を得られないことがわかる.

平均的な性能が高いだけでは,
その性能が何によってもたらされたかがわからない . そのため,
次にそれぞれの類似尺度の振る舞いに特徴的な組を選び出し,
定性的な分析を行う. 表\[without-comp\]は定性的な分析として,
図\[graph:art_data\]の左上のグ ラフにおいて
評価の対象に含まれた特徴的な6組を取り出し,
それらの組に対してそれぞれの尺度で位置した
順位とそのとき与えられた類似度を, パラメータ@xmath181とともに示す.

\@xmath182は正解ではない組「四日市市, 宇治市」である. この組は
一度だけ出現し, それが共起出現であった組(@xmath183)である.
この組は補完類似度では625位に位置し,
その他の尺度ではより高い順位に位置する. 特に, 自己相互情報量,
\@xmath184相関係数, コサイン関数, ダイス相関係数,
信頼度では上位に位置する.
これらの尺度では各尺度における最大値がスコアとなっている.
自己相互情報量は定義式にある分母が@xmath185となるため, データ総数の対数
\@xmath186を与え, コサイン関数, ダイズ相関係数,
信頼度は@xmath187を類似度として与 えてしまう. これは,
\@xmath188を考慮していないことが一つの要因といえる. また,
\@xmath189相関係数は定義式の分母が平方根であり,
\@xmath190を分子に一つ分母に二つ持っている. このため,
分子と分母が同じになり, \@xmath191を類似度として与えてしまう. つまり,
\@xmath192相関係数は, \@xmath193が@xmath194よりも非常に大きい場合,
分子と分母が ほぼ同じになり,
正解ではない組にも@xmath195に近い値を与えてしまう性質を持つ.
このような組が500位までに多く存在する. このため, 上位500までを見たとき,
自己相互情報量, コサイン関数, ダイス相関係数, 信頼度の再現率が,
補完類似度, 平均 相互情報量,
非対称平均相互情報量に比べ低いことの原因である.

\@xmath196は正解ではない組「川崎市, 富士市」である. この組は 補完類似度,
平均相互情報量, 非対称平均相互情報量,
信頼度では1000位近くまたはそれ以降の順位に位置するが,
その他の尺度では300位前後に位置する. これは@xmath197を考慮しないことと,
\@xmath198が@xmath199に 比べ大きいことが原因と考えられる.
このような組が1000位までに多く存在する. このため,
上位1000までを見たとき, 自己相互情報量, コサイン関数,
ダイス相関係数の再現率が, 補完類似度, 平均相互情報量,
非対称平均相互情報量, 信頼度に比べ非常に低 いことの原因である.

\@xmath200は正解ではない組「海部郡, 静岡市」である.
この組はダイス相関係数で は1101位に位置し,
その他の尺度ではより低い順位に位置する.
これはパラメータ@xmath201によって@xmath202を使用しなくても下位と判定されるが,
\@xmath203を使用しないのは問題であり,
\@xmath204を使用する尺度はより下位と判定する.

\@xmath205は正解である組「東京都, 多摩市」である. これは
出現パターンが完全な包含関係にある組(@xmath206)であり,
一度だけ共起出現する組(@xmath207)である.
このような組が補完類似度では1000位から2000位の間に多く存在するが,
平均相互 情報量ではパラメータ@xmath208があるため,
もっと低い順位に位置する.
このことが図\[graph:art_data\]において補完類似度と平均相互情報量の
上位1000から2000の間に見られる再現率の開きの原因である. また,
非対称平均相互情報量では, パラメータ@xmath209が@xmath210となるため,
定義式の第一 項の値が類似度となる. しかし,
パラメータ@xmath211が第一項に含まれているため, 補 完類似度に比べ,
低い順位に位置し, 平均相互情報量より少し高い順位に位置して いる.
このことが平均相互情報量と同様に, 図\[graph:art_data\]において補完
類似度と非対称平均相互情報量の上位1000から2000の間に見られる再現率の開きの
原因である. また, この原因は,
平均相互情報量に非対称性を持たせたことによる性能向上が
わずかであったことの要因である.

\@xmath212は正解である組「京都府, 中郡」である. これは
出現パターンが完全な包含関係ではない組(@xmath213)である.
この組は補完類似度, 平均相互情報量,
非対称平均相互情報量では300位以内に位置するが, その他の尺度
では1000位以降に位置する. 特に,
自己相互情報量は2437位と他のものより非常に低い 順位に位置する.
これもパラメータ@xmath214が大きいことが原因である.

\@xmath215は正解である組「石川県, 金沢市」である.
これは出現パターンが完全な包含関係に ある組(@xmath216)であり,
6回共起出現する組(@xmath217)である. この組は補完類似度, 平均相互情報量,
非対称平均相互情報量では3,2位に, \@xmath218相関係数, コサ イン関数,
ダイス相関係数では500位以内に, 自己相互情報量と信頼度でも1200位以内
に位置し, どの尺度でも比較的高い順位に位置している.
これはこのデータ集合において大きいパラメータ@xmath219をこの組が持つためである.

表\[without-comp\]における以上の考察からは, このデータ集合において,
補完類似度, 非対称平均相互情報量,
平均相互情報量が一対多関係を推定する候補として残る が,
図\[graph:art_data\]のグラフに示されるように,
1000位以降では非対称平均相互情報量と平均相互情報量の性能よりも信頼度の性能が高かった.

また, 実験のために生成した四つの雑音のあるデータ集合には平均すると,
46の都道府県名が出現し, 多重度は19.0であった. 言い替えると,
このデータ集合には46の都道府県名で平均すると,
一つの都道府県名あたり19個程度の市郡名との関係が存在するということである.
このことから, 実験結果を,
46ラベルに対して多重度19を持つデータ集合における一対多関係を
推定する問題において,
補間類似度はもっとも高い性能を得たと見ることができる .

### 雑音のあるデータ集合を用いた実験

この節では, 雑音のあるデータ集合に対する類似尺度の振る舞いを観察する.
雑音のあるデータ集合@xmath220は定義\[with-noise\]に沿って,
ラベル集合@xmath221と正 解関係を要素とする関係集合@xmath222から作成した.
具体的には, \[sec:without\]節で生成した雑音のないデータ集合
\@xmath223の要素@xmath224にそれぞれ雑音を追加したデータ@xmath225を作り,
そのデータを要素とするデータ集合を作成した.
アルゴリズムを図\[algo:noise_data\]に示す. 作成されたデータはたとえば,
\@xmath226と いうデータである. これは, 雑音のないデータ@xmath227に
雑音「京都府」を追加した集合である.
「京都府」は@xmath228のどの要素とも正解集合@xmath229に含まれる関係を持ってい
ない. 本論文では, この性質を持つデータの要素を雑音と呼んでいる.
このように作成したデータ@xmath230を1000個持
つデータ集合@xmath231を作成した.
このデータ集合は雑音のあるデータ集合である. これを用いて実験を行った.
雑音を各データに一つずつ入れた理由は, 定義\[with-noise\]に示すように
雑音の数は4より十分小さい数であり, かつ雑音が
常にあるというデータ集合全体としてみると雑音が非常に多い状況を想定したため
である.

実験結果を図\[graph:art_noise\]に示す.
この四つのグラフはそれぞれ同じ方法で作成した異なるデータ集合に用いて実験を行った結果である.
これらのグラフは, 上位の組の数を横軸, そのときの再現率を縦 軸とする.
この実験では, 雑音があることによって, 雑音のないデータ集合と比べ
不一致情報が多くなる. このため,
すべての類似尺度の性能は雑音のないデータ集 合と比べ, 全体的に低い.
不一致情報とは,
データにラベルがどちらか一方しか現われないという情報であり ,
パラメータ@xmath232で表される出現情報である.

これらのグラフでは, 上位に位置する組において, 補完類似
度の再現率の高さが目立つ. すべてのグラフにおいて, 補完類似度に続き,
信頼度, 非対称平均相互情報量, 平均相互情報量が高い性能を示している.
言い換えると, これらのグラフは雑音のあるデータ集合を用いた実験において,
上位の組の数が小さいとき,
補完類似度がもっとも一対多関係を推定する能力が高く, 次に信頼度,
非対称平均相互情報量, 平均相互情報量の順に高いことを表している.
この結果はすべてのグラフにおいて同じ結果を得ている. また,
非対称平均相互情報量は平均相互情報量と比べ,
一対多関係を推定する能力が高いことを表しているが,
有意な差を見ることはできなかった.
雑音のないデータ集合を用いた実験と同じく, このことから,
非対称性は一対多関係を推定するために有効な性質の一つと考え られるが,
補完類似度と非対称平均相互情報量の性能差を見ると, 非対称性を持つだけで
は高い性能を得られないことがわかる.

前節と同様に, 性能差の原因を定性的に調べるため,
類似尺度の振る舞いに特徴的な組を選び出した.
表\[with-comp\]は定性的な分析として, 図\[graph:art_noise\]の左上の
グラフにおいて 評価の対象に含まれた特徴的な6組を取り出し,
それらの組に対してそれぞれの尺度で位置した
順位とそのとき与えられた類似度をパラメータ@xmath233とともに示す.

\@xmath234は正解ではない組「埼玉県, 岩手県」である.
この組は不一致情報を多く持つ組(@xmath235)である. この組はどの尺
度でも3600位以降の低い順位に位置している.

\@xmath236は正解ではない組「徳島市, 浜田市」である. この組も
どの尺度でも3000位以降の低い順位に位置している.
不一致情報が@xmath237よりも少ないので,
\@xmath238よりも高い順位に位置している.

\@xmath239は正解ではない組「大分市, 新城市」である. この組は
一度だけ出現し, それが共起出現であった組(@xmath240)である.
この組はどの尺度でも@xmath241に比べ非常に高い順位に位置する. 特に,
自己相互情報量, \@xmath242相関係数, コサイン関数,
ダイス相関係数では上位に位置する.
これらの尺度では各尺度における最大値がスコアとなっているためである.

\@xmath243は正解である組「大阪府, 羽曳野市」である. この組は
出現パターンが完全な包含関係にある組(@xmath244)である.
この組は補完類似度と信頼度では,
その他の尺度と比べ高い順位に位置している.
信頼度がこの組をもっとも高い順位に位置付けている. これは,
信頼度は完全な包含 関係にある組に対して最大値を与えるためである.
このデータ集合においては, 信頼度が最大値を与える組は2533組あったが,
そのな かには正解も不正解もあり,
完全な包含関係を優遇することは必ずしも有効ではな いと観測される.

\@xmath245は正解である組「北海道, 登別市」である. この組は出現パターンが
完全な包含関係ではない組(@xmath246)である.
この組も補完類似度と信頼度では, その他の尺度と比べ高い順位に位置している
.

\@xmath247は正解である組「岐阜県, 羽島市」である. この組は補完類似度,
平均相互情報量, 非対称平均相互情報量では,
その他の尺度と比べ高い順位に位置し ている.
この組における補完類似度と平均相互情報量の順位の差は,
平均相互情報量がこの
組よりも@xmath248のような組に高いスコアを与えるためである.
平均相互情報量では@xmath249のような組が@xmath250よりも上位に77個も位置する.
補完類似度と非対称平均相互情報量の順位の差も同じ原因によるものである.
このことが図\[graph:art_noise\]に見られる
補完類似度とそれぞれ平均相互情報量,
非対称平均相互情報量の上位500組を対象とした場合の再現率における開きの原
因である.

表\[with-comp\]における以上の考察からは, このデータ集合において,
補完類似度, 非対称平均相互情報量,
平均相互情報量が一対多関係を推定する候補として残る が,
図\[graph:art_noise\]のグラフに示されるように,
2000位以降では非対称平均相互情報量と平均相互情報量の性能よりも信頼度の性能が高かった.

また, 雑音のないデータ集合と同じく,
実験のために生成した四つの雑音のあるデータ集合には平均すると,
46の都道府県名が出現し, 多重度は19.0である. 言い替えると,
このデータ集合には46の都道府県名で平均すると,
一つの都道府県名あたり19個程度の市郡名との関係が存在するということである.
このことから, 実験結果を,
46ラベルに対して多重度19を持つデータ集合における一対多関係を
推定する問題において,
補間類似度はもっとも高い性能を得たと見ることができる .

### 多重度に関する実験

この節では, 補完類似度の性能が多重度にどう依存するのかを実験す る.
具体的には, 人工的に一対多関係の正解集合を作成し, その一対多の程度を変
化させ, 正解集合から生成したデータに対する類似尺度の振る舞いを観察する.
人工的なデータでは, 正解集合から公平にサンプルされるの で,
正解集合の一対多の比率と多重度は一致する.

実験に用いる正解関係@xmath251を要素とする関係集合@xmath252とデータ集合@xmath253は図
\[algo:randomnum-data\]に示すアルゴリズムを用いて作成した.
アルゴリズムに現れる@xmath254はそれぞれ@xmath255において@xmath256であるラベルの数,
一つの@xmath257と関係を持つ@xmath258の数である. すなわち,
\@xmath259はデータ集合@xmath260が持つ多重度である. たとえば, \@xmath261,
\@xmath262とした場合,
作成される正解とする関係集合@xmath263は25種類の@xmath264を持ち,
それぞれの \@xmath265が5種類の関係,
つまり@xmath266を5個持つような125対を要素とする集合である. これは,
\@xmath267に@xmath268
といった一つの@xmath269に対して五つの関係があることを意味する.
このような集合から作成されるデータ集合@xmath270の要素であるデータはた
とえば, \@xmath271というデータである. これは,
\@xmath272から@xmath273と@xmath274の二つを取り 出し,
その二つの関係に含まれるラベルと関係を持たないラベル45を追加したデータである.

\[sec:without\]節と\[sec:with\]節の実験で用いたデータ集合は, \@xmath275,
\@xmath276であったので, その前後の値で実験を行う. 実験結果は,
\@xmath277を25としたとき@xmath278を1,2,5,10,20,50,100,200と変化させた場合と,
\@xmath279を50としたとき@xmath280を1,2,5,10,20,50,100,200と変化させた場合の
推定能力である. 推定能力はR-精度によって, 評価した.

実験結果を図\[graph:dup25\], \[graph:dup50\]に示す. これらのグラフは ,
多重度を横軸, そのときのR-精度を縦軸とする. 図\[graph:dup25\]は25ラベ
ルに対して多重度を変化させた場合の精度変化を示し, 図\[graph:dup50\]は
50ラベルに対して多重度を変化させた場合の精度変化を示す. 図
\[graph:dup25\]では, 多重度2までは実験に使用した類似尺度の精度はすべて同
じであるが, この時点で自己相互情報量は他の尺度より精度が低下し始める.
多重度10から次第に精度の差が現れ, この時点以降の多重
度では補完類似度の精度がもっとも高い. 補完類似度に続き, 信頼度,
非対称平均 相互情報量, 平均相互情報量の順に高い精度を示している. また,
図 \[graph:dup50\]では, 多重度5から精度の差が現れ,
多重度100までは補完類似度の精度がもっとも高く, 多重度200では補完類似度 ,
信頼度, 平均相互情報量, 非対称平均相互情報量の精度は等しい. 図
\[graph:dup50\]においても図\[graph:dup25\]と同様, 補完類似度に続き, 信
頼度, 非対称平均相互情報量の精度,
平均相互情報量の順に高い精度を示している . この二つのグラフから,
多重度が1, 2程度であれば, 実験に使用したどの類似尺 度を用いても関
係を推定する能力に差はないが, 多重度が高い場合,
補完類似度は他の類似尺度よ
りも一対多関係を推定する能力が高いことがわかる. このことから,
補完類似度は
一対多関係を推定する類似尺度として有効であることが示唆される.

## 実データを用いた実験

### 実験方法

この節の実験では, 現実の新聞記事から日本の地名を抽出し,
データ集合を作成した. 実験は次の流れで行う. まず,
新聞記事の集合からラベル集合@xmath281に含まれる地名
を一つでも持つ新聞記事をデータ@xmath282として抽出し,
その新聞記事の集合を観察できるデータ集 合@xmath283とする. 次に,
地名毎に出現パターンに対応 する二値ベクトルを作成し,
ラベル間の出現パターンの類似度を測定する. この測定値をもって,
地名間にある一対多関係の推定とする.

データ集合の作成方法を説明する. 新聞記事の集合は毎日新聞一年分とし,
七年分に対して年版毎にデータ集合を作成 した@xcite. まず,
日本語形態素解析システム「茶筌」@xciteに地名辞書を追加し た後,
新聞記事の形態素解析を行い, その結果から地名と, その地名を含む記事の識
別番号を抽出した. 次に,
記事の識別番号をデータの識別番号@xmath284として扱い,
その記事に含まれる地名を 要素とする集合を作り,
その集合をデータ@xmath285とした.
このように作成した@xmath286を要素するデータ集合を観測できる集合@xmath287と
した.

本論文では, この方法で年版毎に作成した集合に対して,
一対多関係の推定を行った. ここで,
このコーパス中には単に「大阪」とだけ出現し, これが「大阪府」と「大
阪市」のどちらを表すのかわからない地名が出現する. この地名については
どちらかに解釈し正解であれば正解とした. 「大阪府, 大阪」の場合,
「大阪」を「大阪市」と解釈し, また, 「大阪, 大阪市」の場合,
これは「大阪」を「大阪府」と解釈し, 正解とした.

実験の前に, 新聞記事に一つの都道府県名に対して,
平均的にいくつの市郡名との 関係が実際に出現するかを調査した. 極端な場合,
実質的に県庁所在地だけしか出現しないならば, コーパス上では多重
度は1となってしまうこともありうるため,
実際の地名データの多重度を調査して おく必要がある.

実データにおける多重度を計測した結果, 表\[tab:dupchk\]に示されるように,
す べての年度において多重度は20前後であった. このことから, 本節の実験を,
都道府県名50に対して多重度20を持つ実データからラベルの一対多関係を推定する問
題と見ることができる.

評価においては, 正解関係1239個を用いて正解判定を行った. 実験では,
それぞれの類似尺度を用いて, 各年版に対す
るデータ集合@xmath288に含まれるすべての地名の組合せについて類似度を計算する.
その組合せは非常に多く, すべてを評価対象とすることは現実的ではない.
そこで, 上位1239個についての適合率をとり, 性能を比較することにした.
この比率はR-精度と呼ばれ, 情報検索などで用いられる性能尺度である.
次に適合率の定義を示す. $$\begin{aligned}
適合率 &=& \frac{評価対象とした組のうち正解した数}{評価対象とした組数}
\end{aligned}$$

### 評価結果

年版毎における各類似尺度のR-精度を表\[r_prec2\]に示す.
表\[r_prec2\]をグラフで表したものが 図\[r_prec\]である.
表\[r_prec2\]とこのグラフは,
すべての年版において補完類似度がもっとも高い性能を持つこと を表している.

人工的に生成したデータでは,
信頼度が非対称平均相互情報量と平均相互情報量よりも
性能が高い場合があったが, 実データでは,
非対称平均相互情報量と平均相互情報量が信頼度よりも性能が高い.
言い換えると, 実データを用いた実験において, 補完類似度がもっと
も一対多関係を推定する能力が高く, 次に非対称平均相互情報量,
平均相互情報量 , 信頼度の順に高いことを表している.
この結果はすべての年版において言えることであるため. また,
人工的に生成したデータと同様に,
非対称平均相互情報量は平均相互情報量と比べ,
一対多関係を推定する能力が高いことを表しているが,
有意な差を見ることはできなかった. しかし, このことから,
非対称性は一対多関係を推定するために有効な性質の一つと考え られるが,
補完類似度と非対称平均相互情報量の性能差を見ると, 非対称性を持つだけで
は高い性能を得られないことがわかる.

また, 多重度に関して見ると,
ラベル50に対して多重度20を持つ実データにおいて,
前節に示した多重度に関する実験結果と同じく,
補完類似度が有効である結果を得ている.

表\[real-comp\]は定性的な分析として, 93年版において評価の対象に含まれた
特徴的な6組を取り出し, それらの組に対してそれぞれの
尺度で位置した順位とそのとき与えられた類似度をパラメータ@xmath289とともに示す.
ただし,
表に現れる'\*'はその尺度においてはその組が評価の対象外であったことを表す.

\@xmath290は正解ではない組「湯沢市, 中野市」である. この組は
一度だけ出現し, それが共起出現であった組(@xmath291)である.
この組は自己相互情報量, \@xmath292相関係数, コサイン関数, ダイス相
関係数では評価対象とした組内に含まれているが, 補完類似度,
平均相互情報量, 非対称平均相互情報量, 信頼度では含まれていない. これは,
自己相互情報量, \@xmath293相関係数, コサイン関数, ダイス相関係数では
この組に最大値をスコアとして与えるためである. 一方,
信頼度ではこの組にスコアとして最大値が与えるが,
この組は評価対象とした上位1239組内 に含まれていない. これは,
このデータ集合には信頼度が最大値を与えてしまう組が多く存在する
ことを表している.

\@xmath294は正解ではない組「秋田, 青森」である. この組は
自己相互情報量と信頼度では評価対象した組内に含まれてないが,
その他の尺度では含まれている. これは, 正解である@xmath295に比べ,
パラメータ@xmath296が非常に大きいことが原因である. また,
隣接する県であることも影響し, この組が抽出された可能性もある.
\@xmath297は正解である組「岩手県, 盛岡市」である. この組は 補完類似度,
平均相互情報量,
非対称平均相互情報量では評価対象とした組内に含まれているが,
その他の尺度では含まれていない. また,
自己相互情報量と信頼度以外の尺度では正解ではない@xmath298よりも低い順位に位置している.
これは, 正解ではない@xmath299に比べ,
パラメータ@xmath300が小さいことが原因である.

\@xmath301は正解である組「愛媛県, 温泉郡」である. この組は
出現パターンが完全な包含関係にある組(@xmath302)である.
この組は補完類似度と信頼度では評価対象とした組内に含まれているが,
その他の尺度では含まれていない.
信頼度がこの組をもっとも高い順位に位置付けている. これは,
信頼度は完全な包含 関係にある組に対して最大値を与えるためである.
信頼度は@xmath303のようにパラメータ@xmath304が@xmath305の場合,
最大値を与える. 93年版のデータ集合においては,
信頼度が最大値を与える組は@xmath306を含め 4793組あった.
このうち@xmath307のような組は788組あった.

\@xmath308は正解である組「静岡, 浜松」である. この組は補完類似度,
平均相互情報量,
非対称平均相互情報量では評価対象とした組内に含まれているが,
その他の尺度では含まれていない. また,
この組は補完類似度と信頼度以外の尺度では正解ではない@xmath309よりも
低い順位に位置している. これは@xmath310に比べ,
パラメータ@xmath311が小さく, \@xmath312が大きいことが原因である.
このことより, 一対多関係を推定する問題における尺度は
不一致情報を緩和することが必要であると考えられる.

\@xmath313は正解である組「大阪, 大阪市」である.
この組は実データにおいてパラメータ@xmath314がもっとも大きい組である.
この組は信頼度では評価対象とした組内に含まれていないが,
その他の尺度では含まれている.
これは@xmath315のような@xmath316が@xmath317の組が多いことと,
この組が大きい@xmath318を持つことが原因である.

表\[real-comp\]における以上の考察から, 実データにおいて,
補完類似度が一対多関係を推定することにもっとも適していると見ること
ができる. また, 人工的に生成したデータ集合においては信頼度の性能が
非対称平均相互情報量と平均相互情報量より高かったが,
実データにおいては非対称平均相互情報量と平均自己相互情報量のほうが高い.
これは, 実データが偶然共起出現し,
完全な包含関係である組(@xmath319)を非常 に多く抽出することが原因である.
93年版のデータ集合においては, このような組 は4005組あった.

以上のことから, 一対多関係を推定する問題において,
補完類似度は有効であると考える.